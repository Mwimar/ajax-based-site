<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('includes/head', {title:post.title}) %>
    <link rel="stylesheet" href="/styles/posts.css" />
    <link rel="stylesheet" href="/styles/forms.css" />
  </head>
  <body>
    <%- include('includes/header') %>
    <main id="post-detail">
      <h1><%= post.title %></h1>
      <section id="post-meta">
        <address>
          <a href="mailto:<%= post.author.email %>"> <%= post.author.name %></a>
        </address>
        |

        <time datetime="<%= post.date %>"><%= post.humanReadableDate %></time>
      </section>
      <hr />
      <section>
        <p id="body"><%= post.body %></p>
      </section>

      <button id="load-comments-btn" class="btn" data-postid="<%= post._id %>">
        Load Comments
      </button>

      <section id="comments">
        <p>This post might have comments. You can add some</p>
      </section>

      <!-- <section id="comments">
        <%# if (!comments){ %>
        <p>This post might have comments. You can add some</p>
        <%# }else if(comments.length===0){ %>

        <p>No comments found</p>
        <%# }else{ %>
        <ol>
          <%# for (const comment of comments) {%>
          <li><%# - include ('includes/comment-item', {comment:comment}) %></li>

          <%# } %> <%# } %>
        </ol>
      </section> -->

      <section id="comments-section">
        <form data-postid="<%= post._id %>">
          <h2>Leave a Comment</h2>
          <label for="title">Comment Title</label>
          <input type="text" name="title" id="title" />

          <label for="text">Your comment</label>
          <textarea type="text" name="text" id="text"> </textarea>
          <button class="btn">Save Comment</button>
        </form>
      </section>
    </main>
    <script src="/scripts/comments.js" defer></script>
  </body>
</html>
